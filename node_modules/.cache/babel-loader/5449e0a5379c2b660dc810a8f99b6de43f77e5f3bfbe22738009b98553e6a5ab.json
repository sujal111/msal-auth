{"ast":null,"code":"/*! @azure/msal-browser v2.34.0 2023-03-07 */\n'use strict';\n\nimport { __awaiter, __generator } from '../_virtual/_tslib.js';\nimport { AsyncMemoryStorage } from './AsyncMemoryStorage.js';\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\nvar CryptoKeyStoreNames;\n(function (CryptoKeyStoreNames) {\n  CryptoKeyStoreNames[\"asymmetricKeys\"] = \"asymmetricKeys\";\n  CryptoKeyStoreNames[\"symmetricKeys\"] = \"symmetricKeys\";\n})(CryptoKeyStoreNames || (CryptoKeyStoreNames = {}));\n/**\r\n * MSAL CryptoKeyStore DB Version 2\r\n */\nvar CryptoKeyStore = /** @class */function () {\n  function CryptoKeyStore(logger) {\n    this.logger = logger;\n    this.asymmetricKeys = new AsyncMemoryStorage(this.logger, CryptoKeyStoreNames.asymmetricKeys);\n    this.symmetricKeys = new AsyncMemoryStorage(this.logger, CryptoKeyStoreNames.symmetricKeys);\n  }\n  CryptoKeyStore.prototype.clear = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var e_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            // Delete in-memory keystores\n            this.asymmetricKeys.clearInMemory();\n            this.symmetricKeys.clearInMemory();\n            _a.label = 1;\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n            return [4 /*yield*/, this.asymmetricKeys.clearPersistent()];\n          case 2:\n            _a.sent();\n            return [2 /*return*/, true];\n          case 3:\n            e_1 = _a.sent();\n            if (e_1 instanceof Error) {\n              this.logger.error(\"Clearing keystore failed with error: \" + e_1.message);\n            } else {\n              this.logger.error(\"Clearing keystore failed with unknown error\");\n            }\n            return [2 /*return*/, false];\n          case 4:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  return CryptoKeyStore;\n}();\nexport { CryptoKeyStore, CryptoKeyStoreNames };","map":{"version":3,"names":["CryptoKeyStoreNames","CryptoKeyStore","logger","asymmetricKeys","AsyncMemoryStorage","symmetricKeys","prototype","clear","clearInMemory","clearPersistent","_a","sent","e_1","Error","error","message"],"sources":["/Users/sujal/Desktop/MSAL/msal-react-tutorial/node_modules/@azure/msal-browser/src/cache/CryptoKeyStore.ts"],"sourcesContent":["/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n\nimport { Logger } from \"@azure/msal-common\";\nimport { CachedKeyPair } from \"../crypto/CryptoOps\";\nimport { AsyncMemoryStorage } from \"./AsyncMemoryStorage\";\n\nexport enum CryptoKeyStoreNames {\n    asymmetricKeys = \"asymmetricKeys\",\n    symmetricKeys = \"symmetricKeys\"\n}\n/**\n * MSAL CryptoKeyStore DB Version 2\n */\nexport class CryptoKeyStore {\n    public asymmetricKeys: AsyncMemoryStorage<CachedKeyPair>;\n    public symmetricKeys: AsyncMemoryStorage<CryptoKey>;\n    public logger: Logger;\n\n    constructor(logger: Logger){\n        this.logger = logger;\n        this.asymmetricKeys = new AsyncMemoryStorage<CachedKeyPair>(this.logger, CryptoKeyStoreNames.asymmetricKeys);\n        this.symmetricKeys = new AsyncMemoryStorage<CryptoKey>(this.logger, CryptoKeyStoreNames.symmetricKeys);\n    }\n\n    async clear(): Promise<boolean> {\n        // Delete in-memory keystores\n        this.asymmetricKeys.clearInMemory();\n\t    this.symmetricKeys.clearInMemory();\n\t\t\n        /**\n         * There is only one database, so calling clearPersistent on asymmetric keystore takes care of\n         * every persistent keystore\n         */\n        try {\n            await this.asymmetricKeys.clearPersistent();\n            return true;\n        } catch (e) {\n            if (e instanceof Error) {\n                this.logger.error(`Clearing keystore failed with error: ${e.message}`);\n            } else {\n                this.logger.error(\"Clearing keystore failed with unknown error\");\n            }\n            \n            return false;\n        }\n    }\n}\n"],"mappings":";;;;;;AAAA;;;;IASYA,mBAAA;AAAZ,WAAYA,mBAAmB;EAC3BA,mBAAA,qCAAiC;EACjCA,mBAAA,mCAA+B;AACnC,CAAC,EAHWA,mBAAmB,KAAnBA,mBAAmB;AAI/B;;;;EAQI,SAAAC,eAAYC,MAAc;IACtB,IAAI,CAACA,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,cAAc,GAAG,IAAIC,kBAAkB,CAAgB,IAAI,CAACF,MAAM,EAAEF,mBAAmB,CAACG,cAAc,CAAC;IAC5G,IAAI,CAACE,aAAa,GAAG,IAAID,kBAAkB,CAAY,IAAI,CAACF,MAAM,EAAEF,mBAAmB,CAACK,aAAa,CAAC;;EAGpGJ,cAAA,CAAAK,SAAA,CAAAC,KAAK,GAAX;;;;;;;YAEI,IAAI,CAACJ,cAAc,CAACK,aAAa,EAAE;YACtC,IAAI,CAACH,aAAa,CAACG,aAAa,EAAE;;;;YAO3B,qBAAM,IAAI,CAACL,cAAc,CAACM,eAAe,EAAE;;YAA3CC,EAAA,CAAAC,IAAA,EAA2C;YAC3C,sBAAO,IAAI;;;YAEX,IAAIC,GAAC,YAAYC,KAAK,EAAE;cACpB,IAAI,CAACX,MAAM,CAACY,KAAK,CAAC,0CAAwCF,GAAC,CAACG,OAAS,CAAC;aACzE,MAAM;cACH,IAAI,CAACb,MAAM,CAACY,KAAK,CAAC,6CAA6C,CAAC;;YAGpE,sBAAO,KAAK;;;;;;GAEnB;;EACL,OAAAb,cAAC;AAAD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}